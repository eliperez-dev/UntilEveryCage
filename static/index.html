<!--
    Until Every Cage is Empty
    Copyright (C) 2025 Eli Perez 

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program. If not, see <https://www.gnu.org/licenses/>.

    Contact the developer directly at untileverycageproject@protonmail.com
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>Until Every Cage is Empty</title>
    <meta name="title" content="Until Every Cage is Empty" />
    <meta name="description" content="An interactive map exposing the infrastructure of animal exploitation in the United States. Visualize thousands of facilities including slaughterhouses, processing plants, labs, farms/breeders, dealers, and exhibitors." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://untileverycage.org/" />
    <meta property="og:title" content="Until Every Cage is Empty" />
    <meta property="og:description" content="An interactive map exposing the infrastructure of animal exploitation in the United States. Visualize thousands of facilities including slaughterhouses, processing plants, labs, farms/breeders, dealers, and exhibitors." />
    <meta property="og:image" content="https://untileverycage.org/assets/icon.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://untileverycage.org/" />
    <meta property="twitter:title" content="Until Every Cage is Empty" />
    <meta property="twitter:description" content="An interactive map exposing the infrastructure of animal exploitation in the United States. Visualize thousands of facilities including slaughterhouses, processing plants, labs, farms/breeders, dealers, and exhibitors." />
    <meta property="twitter:image" content="https://untileverycage.org/assets/icon.png" />


    <link rel="icon" type="image/png" href="assets/icon.png">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="map-filter-styles.css" />
</head>

<body>


<header class="site-header">
    <div class="header-container">
        <h1>Until Every Cage is Empty</h1>
        <nav class="main-navigation">
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link active">Map</a></li>
                <li><a href="howtouse.html" class="nav-link">How To Use</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <!-- <li><a href="contribute.html" class="nav-link">Contribute</a></li> -->
            </ul>
        </nav>
    </div>
</header>
<div id="map">
    <!-- Loading indicator -->
    <div id="loading-indicator">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading map data...</div>
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <div class="progress-percentage">0%</div>
        </div>
    </div>
    
    <!-- Simple filter panel -->
    <div id="map-filters" class="collapsed" role="region" aria-label="Map filters and controls">
        <div class="resize-handle"></div>
        <div class="filter-header">
            <span>Search</span>
            <button id="filter-toggle-btn" type="button" aria-label="Toggle filters panel">‚ñ∂</button>
        </div>
        <div id="filter-panel" class="filter-content">
            <div class="submenu-section">
                <div class="submenu-header">
                    <span>Search & Filters</span>
                    <button class="submenu-toggle" type="button">‚ñº</button>
                </div>
                <div class="submenu-content">
                    <div class="search-section">
                        <input type="text" id="name-search-input" placeholder="Search facilities..." aria-label="Search facilities by name">
                        <select id="country-selector" aria-label="Filter by country">
                            <option value="all">All Countries</option>
                        </select>
                        <select id="state-selector" aria-label="Filter by state/province">
                            <option value="all">All States/Provinces</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="submenu-section collapsed">
                <div class="submenu-header">
                    <span>Facility Types</span>
                    <button class="submenu-toggle" type="button">‚ñº</button>
                </div>
                <div class="submenu-content">
                    <div class="types-section">
                        <div class="checkbox-item">
                            <input type="checkbox" id="slaughterhousesCheckbox" checked> 
                            <label for="slaughterhousesCheckbox">üî¥ Slaughterhouses</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="meatProcessingPlantsCheckbox" checked>
                            <label for="meatProcessingPlantsCheckbox">‚ö™Ô∏è Processing</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="testingLabsCheckbox" checked>
                            <label for="testingLabsCheckbox">üü£ Labs</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="breedersCheckbox" checked>
                            <label for="breedersCheckbox">üü° Farms / Breeders</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="dealersCheckbox" checked>
                            <label for="dealersCheckbox">üü† Dealers</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="exhibitorsCheckbox" checked>
                            <label for="exhibitorsCheckbox">üü¢ Exhibitors/Zoos</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="submenu-section collapsed">
                <div class="submenu-header">
                    <span>Actions</span>
                    <button class="submenu-toggle" type="button">‚ñº</button>
                </div>
                <div class="submenu-content">
                    <div class="button-section">
                        <button id="share-view-btn">Share View</button>
                        <button id="reset-filters-btn">Reset</button>
                        <button id="download-csv-btn">Download CSV</button>
                    </div>
                </div>
            </div>

            <div id="stats-container"></div>
        </div>
    </div>
</div>




<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
<script type="module" src="app.js"></script>

<!-- Footer will be loaded here -->
<!-- <div id="footer-placeholder"></div>

<script src="footer.js"></script> -->
</body>
</html>